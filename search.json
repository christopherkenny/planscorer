[{"path":"http://christophertkenny.com/planscorer/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 planscorer authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://christophertkenny.com/planscorer/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Christopher T. Kenny. Author, translator, maintainer.            R port Michal Migurski. Author.            python original, https://github.com/PlanScore/PlanScore-CLI Cory McCartan. Artist.","code":""},{"path":"http://christophertkenny.com/planscorer/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"PlanScore. 2022. planscore.org.","code":"@Misc{,   title = {PlanScore},   year = {2022},   url = {planscore.org}, }"},{"path":"http://christophertkenny.com/planscorer/index.html","id":"planscorer-","dir":"","previous_headings":"","what":"Score Redistricting Plans with PlanScore","title":"Score Redistricting Plans with PlanScore","text":"planscorer offers R interface PlanScore.org’s API.","code":""},{"path":"http://christophertkenny.com/planscorer/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Score Redistricting Plans with PlanScore","text":"can install development version planscorer GitHub :","code":"# install.packages('remotes') remotes::install_github('christopherkenny/planscorer')"},{"path":"http://christophertkenny.com/planscorer/index.html","id":"authentication","dir":"","previous_headings":"","what":"Authentication","title":"Score Redistricting Plans with PlanScore","text":"use planscorer, must API key PlanScore. Otherwise, get 403 forbidden error. get key, follow instructions . key, use ps_set_key('your_key'). Optionally use ps_set_key('your_key', install = TRUE) allow key available across sessions.","code":""},{"path":"http://christophertkenny.com/planscorer/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Score Redistricting Plans with PlanScore","text":"file, can upload using ps_upload_file() option: read data results: capture outputted figures site:","code":"library(planscorer) ## basic example code  file <- system.file('extdata/null-plan-incumbency.geojson', package = 'planscorer') links <- ps_upload_file(file) #> ℹ Using single-step upload. ps_ingest(links) #> # A tibble: 2 × 62 #>   district democratic_…¹ democ…² democ…³ repub…⁴ repub…⁵ us_pr…⁶ us_pr…⁷ distr…⁸ #>   <chr>            <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <int> #> 1 1                 155.    29.9   0        445.    29.9     100     300       0 #> 2 2                 379.    29.6   0.998    221.    29.6     500     300       1 #> # … with 53 more variables: polsby_popper <dbl>, reock <dbl>, #> #   declination <dbl>, declination_absolute_percent_rank <dbl>, #> #   declination_is_valid <dbl>, declination_positives <dbl>, #> #   declination_relative_percent_rank <dbl>, declination_sd <dbl>, #> #   efficiency_gap <dbl>, efficiency_gap_1_dem <dbl>, #> #   efficiency_gap_1_dem_sd <dbl>, efficiency_gap_1_rep <dbl>, #> #   efficiency_gap_1_rep_sd <dbl>, efficiency_gap_2_dem <dbl>, … img <- 'man/figures/README-planscore.png' ps_capture(links, img) #> [1] \"man/figures/README-planscore.png\"  knitr::include_graphics(img)"},{"path":"http://christophertkenny.com/planscorer/reference/key.html","id":null,"dir":"Reference","previous_headings":"","what":"Check or Get PlanScore API Key — key","title":"Check or Get PlanScore API Key — key","text":"Check Get PlanScore API Key","code":""},{"path":"http://christophertkenny.com/planscorer/reference/key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check or Get PlanScore API Key — key","text":"","code":"ps_has_key()  ps_get_key()"},{"path":"http://christophertkenny.com/planscorer/reference/key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check or Get PlanScore API Key — key","text":"logical , key invisibly get","code":""},{"path":"http://christophertkenny.com/planscorer/reference/key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check or Get PlanScore API Key — key","text":"","code":"ps_has_key() #> [1] FALSE"},{"path":"http://christophertkenny.com/planscorer/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"http://christophertkenny.com/planscorer/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"http://christophertkenny.com/planscorer/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"http://christophertkenny.com/planscorer/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_capture.html","id":null,"dir":"Reference","previous_headings":"","what":"Capture PlanScore Graphs — ps_capture","title":"Capture PlanScore Graphs — ps_capture","text":"Capture PlanScore Graphs","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_capture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Capture PlanScore Graphs — ps_capture","text":"","code":"ps_capture(link, path)"},{"path":"http://christophertkenny.com/planscorer/reference/ps_capture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Capture PlanScore Graphs — ps_capture","text":"link plan_url output ps_upload() functions path path save copy graphs , likely ending .png","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_capture.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Capture PlanScore Graphs — ps_capture","text":"path screenshot","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_capture.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Capture PlanScore Graphs — ps_capture","text":"","code":"# \\donttest{ # often times out url <- 'https://planscore.org/plan.html?20221127T213653.168557156Z' tf <- tempfile(fileext = '.png') ps_capture(url, path = tf) #> [1] \"/tmp/RtmpzM6kJG/file1c5d264f6783.png\" # }"},{"path":"http://christophertkenny.com/planscorer/reference/ps_ingest.html","id":null,"dir":"Reference","previous_headings":"","what":"Ingest PlanScore Output — ps_ingest","title":"Ingest PlanScore Output — ps_ingest","text":"Ingest PlanScore Output","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_ingest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ingest PlanScore Output — ps_ingest","text":"","code":"ps_ingest(link)"},{"path":"http://christophertkenny.com/planscorer/reference/ps_ingest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ingest PlanScore Output — ps_ingest","text":"link index url output ps_upload() functions","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_ingest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ingest PlanScore Output — ps_ingest","text":"tibble district plan level data","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_ingest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ingest PlanScore Output — ps_ingest","text":"","code":"url <- 'https://planscore.s3.amazonaws.com/uploads/20221127T213653.168557156Z/index.json' ps_ingest(url) #> # A tibble: 38 × 104 #>    district american_indian_or_a…¹ american_indian_or_a…² asian_citizen_voting…³ #>    <chr>                     <dbl>                  <dbl>                  <dbl> #>  1 1                         5433.                 21097.                  4974. #>  2 2                         3860.                 15216.                 14775. #>  3 3                         4589.                 14207.                 23792. #>  4 4                         4102.                 14220.                 46863. #>  5 5                         2692.                 13498.                 15430. #>  6 6                         9003.                 23031.                  4881. #>  7 7                         2033.                 17765.                 34379. #>  8 8                         2861.                 14062.                 50691. #>  9 9                         2477.                 15173.                 33794. #> 10 10                        3649.                 16813.                 13264. #> # ℹ 28 more rows #> # ℹ abbreviated names: #> #   ¹​american_indian_or_alaska_native_citizen_votingage_population_2020_acs, #> #   ²​american_indian_or_alaska_native_citizen_votingage_population_2020_acs_margin, #> #   ³​asian_citizen_votingage_population_2020_acs #> # ℹ 100 more variables: #> #   asian_citizen_votingage_population_2020_acs_margin <dbl>, …"},{"path":"http://christophertkenny.com/planscorer/reference/ps_model_versions.html","id":null,"dir":"Reference","previous_headings":"","what":"List Model Versions — ps_model_versions","title":"List Model Versions — ps_model_versions","text":"List Model Versions","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_model_versions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Model Versions — ps_model_versions","text":"","code":"ps_model_versions()"},{"path":"http://christophertkenny.com/planscorer/reference/ps_model_versions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Model Versions — ps_model_versions","text":"tibble model versions","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_model_versions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Model Versions — ps_model_versions","text":"","code":"ps_model_versions() #> # A tibble: 2 × 2 #>   id    description                                                              #>   <chr> <chr>                                                                    #> 1 2022F New: rerun the 2020 election with more accurate updated data (updated M… #> 2 2021B Original: rerun an average election from the past 10 years with best av…"},{"path":"http://christophertkenny.com/planscorer/reference/ps_save.html","id":null,"dir":"Reference","previous_headings":"","what":"Save PlanScore Output — ps_save","title":"Save PlanScore Output — ps_save","text":"Save PlanScore Output","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_save.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save PlanScore Output — ps_save","text":"","code":"ps_save(link, path, json = TRUE)"},{"path":"http://christophertkenny.com/planscorer/reference/ps_save.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save PlanScore Output — ps_save","text":"link index url output ps_upload() functions path path save copy data , likely ending .json json = TRUE .tsv json = FALSE. json file saved .json (TRUE) .tsv (FALSE). json = TRUE slower contains information.","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_save.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save PlanScore Output — ps_save","text":"path json file","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_save.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save PlanScore Output — ps_save","text":"","code":"url <- 'https://planscore.s3.amazonaws.com/uploads/20221127T213653.168557156Z/index.json' tf <- tempfile(fileext = '.json') ps_save(url, tf)"},{"path":"http://christophertkenny.com/planscorer/reference/ps_set_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Entry to Renviron — ps_set_key","title":"Add Entry to Renviron — ps_set_key","text":"Adds PlanScore API key .Renviron.","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_set_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Entry to Renviron — ps_set_key","text":"","code":"ps_set_key(key, overwrite = FALSE, install = FALSE)"},{"path":"http://christophertkenny.com/planscorer/reference/ps_set_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Entry to Renviron — ps_set_key","text":"key Character. API key add add. overwrite Defaults FALSE. Boolean. existing PLANSCORE_KEY Renviron overwritten? install Defaults FALSE. Boolean. added '~/.Renviron' file?","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_set_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Entry to Renviron — ps_set_key","text":"key, invisibly","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_set_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Entry to Renviron — ps_set_key","text":"","code":"if (FALSE) { set_planscore_key('1234') }"},{"path":"http://christophertkenny.com/planscorer/reference/ps_supported_states.html","id":null,"dir":"Reference","previous_headings":"","what":"List Currently Supported States — ps_supported_states","title":"List Currently Supported States — ps_supported_states","text":"List Currently Supported States","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_supported_states.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Currently Supported States — ps_supported_states","text":"","code":"ps_supported_states()"},{"path":"http://christophertkenny.com/planscorer/reference/ps_supported_states.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Currently Supported States — ps_supported_states","text":"tibble supported states","code":""},{"path":"http://christophertkenny.com/planscorer/reference/ps_supported_states.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Currently Supported States — ps_supported_states","text":"","code":"ps_supported_states() #> # A tibble: 200 × 2 #>    state type        #>    <chr> <chr>       #>  1 XX    statehouse  #>  2 AK    ushouse     #>  3 AK    statesenate #>  4 AK    statehouse  #>  5 AK    localplan   #>  6 AL    ushouse     #>  7 AL    statesenate #>  8 AL    statehouse  #>  9 AL    localplan   #> 10 AR    ushouse     #> # ℹ 190 more rows"},{"path":"http://christophertkenny.com/planscorer/reference/upload.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload to PlanScore — upload","title":"Upload to PlanScore — upload","text":"Upload PlanScore","code":""},{"path":"http://christophertkenny.com/planscorer/reference/upload.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload to PlanScore — upload","text":"","code":"ps_upload_file(   file,   description = NULL,   incumbents = NULL,   model_version = NULL,   library_metadata = NULL,   temporary = TRUE )  ps_upload_redist(map, plans, draw, ...)  ps_upload_shp(shp, ...)"},{"path":"http://christophertkenny.com/planscorer/reference/upload.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload to PlanScore — upload","text":"file file upload, one geojson, block assignment file, zipped shape file description text plan description incumbents Incumbent party, one 'D' (Democrat), 'R' (Republican), 'O' (Open) district. Assumes 'O' none provided.#' model_version character model version use. Available options listed ps_model_versions(). library_metadata additional data passed possible later use. advanced use: likely left NULL. temporary temporary PlanScore upload used? Default TRUE. map redist_map object plans redist_plans object draw draw use plans ... arguments pass ps_upload_file() shp sf shape upload, entry district","code":""},{"path":"http://christophertkenny.com/planscorer/reference/upload.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload to PlanScore — upload","text":"list links index plan, success","code":""},{"path":"http://christophertkenny.com/planscorer/reference/upload.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload to PlanScore — upload","text":"","code":"if (FALSE) { # planscorer::ps_has_key() # Requires API Key file <- system.file('extdata/null-plan-incumbency.geojson', package = 'planscorer') ps_upload_file(file) }"},{"path":"http://christophertkenny.com/planscorer/news/index.html","id":"planscorer-001","dir":"Changelog","previous_headings":"","what":"planscorer 0.0.1","title":"planscorer 0.0.1","text":"Added NEWS.md file track changes package.","code":""}]
